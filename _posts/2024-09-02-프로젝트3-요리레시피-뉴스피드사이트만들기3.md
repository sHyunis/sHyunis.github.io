---
title: "í”„ë¡œì íŠ¸3_ë‰´ìŠ¤í”¼ë“œì‚¬ì´íŠ¸ë§Œë“¤ê¸°_03"
excerpt: "í”„ë¡œì íŠ¸ì§„í–‰"

categories:
  - Categories6
tags:
  - [tag1, tag2]

permalink: /categories6/teamproject3-3/

toc: true
toc_sticky: true

date: 2024-09-02
last_modified_at: 2024-09-02
---

## ğŸ¦¥ ë³¸ë¬¸

# ğŸŒŸ Supabaseë¥¼ ì‚¬ìš©í•œ ì†Œì…œë¡œê·¸ì¸ ë§Œë“¤ê¸°

> ëŒ€ë¶€ë¶„ì˜ ì‚¬ì´íŠ¸ì—ì„œëŠ” ì‚¬ìš©ìë“¤ì˜ ë§ì€ ìœ ì…ê³¼ í¸ë¦¬ë¥¼ ìœ„í•´ 1ë¶„íšŒì›ê°€ì…, ì†Œì…œë¡œê·¸ì¸ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤...!
> ì˜¤ëŠ˜ì€ supabaseë¥¼ ì‚¬ìš©í•˜ì—¬ ì†Œì…œë¡œê·¸ì¸ ê¸°ëŠ¥ ê°œë°œì„ í•´ë³´ì•˜ë‹¤

### â˜˜ï¸ 1. Kakao, Google, Github logoë¥¼ ì‚¬ìš©í•˜ì—¬ UI UX ê³¨ì¡° ì¡ê¸°

ë¡œê·¸ì¸ í™”ë©´ì—ì„œë„ íšŒì›ê°€ì… ì°½ì—ì„œë„ ê³µí†µì ìœ¼ë¡œ ë˜‘ê°™ì€ UIê°€ ë“¤ì–´ê°ˆ ê²ƒ ê°™ì•„ SocialSign.jsxë¡œ ì»´í¬ë„ŒíŠ¸í™” ì‹œì¼œì£¼ì—ˆë‹¤.

![](https://velog.velcdn.com/images/alice0751/post/7f500611-fdd8-4121-b239-84b98518761b/image.png)
![](https://velog.velcdn.com/images/alice0751/post/df0bfe12-259c-4811-9090-097d7e8b9b67/image.png)

### â˜˜ï¸ 2. ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì´ë¯¸ì§€ë§Œ ë‹¤ë¥´ê³  ê°™ì€ ì‚¬ì´ì¦ˆì˜ ì†Œì…œë²„íŠ¼ì„ ë§Œë“¤ì–´ì¤„ ê±°ë¼ ê°ì²´ì— ì •ë³´ë¥¼ ë‹´ì€ í›„ mapì„ ì‚¬ìš©í•˜ì—¬ UIë¥¼ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤. divì™€ imgëŠ” ìŠ¤íƒ€ì¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ cssë¥¼ ì¡ì•„ì£¼ì—ˆë‹¤.

```js
const SocialSign = () => {
  const { signInWithKakao, signInWithGithub, signInWithGoogle } = useAuth();

  const Social = [
    {
      src: "/public/images/kakao-logo.png",
      alt: "kakao-logo",
      onClick: signInWithKakao,
    },
    {
      src: "/public/images/github-logo.png",
      alt: "github-logo",
      onClick: signInWithGithub,
    },
    {
      src: "/public/images/google-logo.png",
      alt: "google-logo",
      onClick: signInWithGoogle,
    },
  ];
  return (
    <SocialWrap>
      {Social.map((app, index) => {
        return (
          <SocialLogoBox key={index}>
            <SocialLogoImg src={app.src} alt={app.alt} onClick={app.onClick} />
          </SocialLogoBox>
        );
      })}
    </SocialWrap>
  );
};
```

### â˜˜ï¸ 3. ì´ì „ì— ë§Œë“¤ì–´ ë†“ì€ AuthContextì—ì„œ ì†Œì…œë¡œê·¸ì¸ì„ ìœ„í•œ ë¡œì§ì„ ì¶”ê°€í–ˆë‹¤.

#### 3-1 ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸

ë¨¼ì € supabase ëŒ€ì‰¬ë³´ë“œì—ì„œ Authentication > ì™¼ìª½ ë©”ë‰´ ë°”ì˜ Providers ì„¤ì •ì„ í•´ì£¼ì–´ì•¼ í–ˆë‹¤. ![](https://velog.velcdn.com/images/alice0751/post/9d06cc4b-2eb5-463f-bc4d-25d78b051d90/image.png)

https://developers.kakao.com/
Kakao Developers ì‚¬ì´íŠ¸ì—ì„œ ì‹œì‘í•˜ê¸° => ì• í”Œë¦¬ì¼€ì´ì…˜ ì¶”ê°€í•˜ê¸° =>
![](https://velog.velcdn.com/images/alice0751/post/7137dcf0-5fca-4af4-8012-b21dad570a59/image.png)
ì•„ë˜ ë‚´ìš©ë“¤ì„ ì „ë¶€ ì±„ì›Œì¤€ ë’¤ ì €ì¥ì„ ëˆŒë €ë‹¤.
ì¹´ì¹´ì˜¤ëŠ” ì•± í‚¤ë¥¼ ì—°ê²°í•˜ê¸° ì´ì „ ë™ì˜í•­ëª©ì„ ì„¤ì •í•´ì•¼ë§Œ í—€ë‹¤.
ë¨¼ì € ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ ëˆŒëŸ¬ì„œ í™œì„±í™” ì„¤ì •, OpenID Connect í™œì„±í™” ì„¤ì •ì„ í•´ì£¼ì—ˆë‹¤. ì´ í›„ ![](https://velog.velcdn.com/images/alice0751/post/0ce5293e-72aa-458c-9244-d61ee9c3e702/image.png)

![](https://velog.velcdn.com/images/alice0751/post/7b6016cc-b80c-4278-b2f2-dd01435f246e/image.png)
í‚¤ ì„¤ì •ì„ í•´ ì¤€ ë’¤
ì¹´ì¹´ì˜¤ì— ìˆëŠ” REST API key ë¥¼ supabaseì— ì…ë ¥í•´ì£¼ê³  Client Secret Code ê¹Œì§€ ì…ë ¥í•´ì£¼ì—ˆë‹¤.

supabase Docs ì—ì„œ ì œê³µí•˜ëŠ” ì½”ë“œë¥¼ ì´ìš©í•´ ë¡œì§ì„ vscodeì—ì„œ ì‘ì„±í•´ì£¼ì—ˆë‹¤.

```js
  const signInWithKakao = async () => {
    const { data, error } = await supabase.auth.signInWithOAuth({
      provider: "kakao",
      }
    });
    if (error) {
      console.log("ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹¤íŒ¨", error.message);
    } else {
      console.log("ë¡œê·¸ì¸ ì„±ê³µ", data);
    }
  };

```

### ğŸ’¥ ë¬¸ì œë°œìƒ&í•´ê²° 1

ì´ë ‡ê²Œë§Œ ë¡œì§ì„ ì§œë‘ì—ˆë”ë‹ˆ ê³„ì†í•´ì„œ emailì— ê´€í•œ ê¶Œí•œì´ ì—†ë‹¤ê³  ì—ëŸ¬ê°€ ë–´ë‹¤. êµ¬ê¸€ë§ì„ ê³„ì†1í•˜ë‹¤ë³´ë‹ˆ ì´ë©”ì¼ ê¶Œí•œ ì„¤ì •ì„ í•˜ê¸°ìœ„í•´ì„œëŠ” ë¹„ì¦ˆì•±ì„ ë§Œë“¤ì–´ì•¼í–ˆê³  ì´ë©”ì¼ ê¶Œí•œ ì„¤ì •ì„ ìœ„í•´ ë¹„ì¦ˆì•±ì„ ì‚¬ì—…ì ë“±ë¡ì¦ ì—†ì´ í•´ê²°í•  ìˆ˜ ìˆì–´ì„œ ìƒì„±í•´ì£¼ì—ˆë‹¤.

### ğŸ’¥ ë¬¸ì œë°œìƒ& í•´ê²° 2

í•˜ì§€ë§Œ ë§Œë“  ì´í›„ì—ë„ ê³„ì†í•´ì„œ ì˜¤ë¥˜ê°€ ë‚¬ê³  í•´ê²°í•˜ê¸° ìœ„í•´ scopeì§€ì •ì„ í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ê¸€ì„ ë³´ì•˜ë‹¤. ë‚´ê°€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³ ì í•˜ëŠ” ê²ƒë“¤ë§Œ ì§€ì •ì„ í•´ì¤€ ë’¤ í•´ê²°ë˜ê³  ë¡œê·¸ì¸ì´ ì˜ ë˜ì—ˆë‹¤!

```js
const signInWithKakao = async () => {
  const { data, error } = await supabase.auth.signInWithOAuth({
    provider: "kakao",
    options: {
      scopes: "profile_nickname profile_image", // 'email' ìŠ¤ì½”í”„ë¥¼ ì œì™¸í•˜ê³  'profile' ìŠ¤ì½”í”„ë§Œ ìš”ì²­
    },
  });
  if (error) {
    console.log("ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹¤íŒ¨", error.message);
  } else {
    console.log("ë¡œê·¸ì¸ ì„±ê³µ", data);
  }
};
```

ë¹„ìŠ·í•˜ê²Œ êµ¬ê¸€ê³¼ ê¹ƒí—ˆë¸Œë„ ì—°ê²°ì‹œì¼œì£¼ì—ˆë‹¤.

```js
// Gibhubë¡œ ë¡œê·¸ì¸
const signInWithGithub = async () => {
  const { data, error } = await supabase.auth.signInWithOAuth({
    provider: "github",
  });

  if (error) {
    console.log("ê¹ƒí—ˆë¸Œ ë¡œê·¸ì¸ ì‹¤íŒ¨", error.message);
  } else {
    console.log("ë¡œê·¸ì¸ ì„±ê³µ", data);
  }
};

//
const signInWithGoogle = async () => {
  const { data, error } = await supabase.auth.signInWithOAuth({
    provider: "google",
  });

  if (error) {
    console.log("ì• í”Œ ë¡œê·¸ì¸ ì‹¤íŒ¨", error.message);
  } else {
    console.log("ë¡œê·¸ì¸ ì„±ê³µ", data);
  }
};
```

ì¶”ê°€ë¡œ ì‘ì„±í•œ ë¡œì§ë“¤ë„ AuthContext.Provider valueì— ì¶”ê°€í•´ì¤€ í›„ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œ êµ¬ì¡°ë¶„í•´í• ë‹¹ ë°©ì‹ìœ¼ë¡œ useAuth í•´ì£¼ì—ˆë‹¤!

## ğŸŒ¼ ëŠë‚€ ì 

> ë§ì´ ì–´ë ¤ìš¸ ê±°ë¼ê³  ìƒê°í–ˆë˜ ê±°ì— ë¹„í•´ì„œëŠ” ë¹„êµì  ê°„ë‹¨í•˜ê²Œ ëë‚œ ê²ƒ ê°™ë‹¤
> supabase Docsì—ì„œ ì¹œì ˆí•˜ê²Œ ë°©ë²•ì„ ì•Œë ¤ì£¼ê³  ìˆê³  ë”°ë¼ ëª‡ëª‡ë¶€ë¶„ì„ ì œì™¸í•˜ê³ ëŠ” ìˆœì°¨ì ìœ¼ë¡œ ë”°ë¼ë§Œ í•´ë„ í•´ê²°ì´ ë˜ì—ˆë‹¤ ã…ã…
> ì‚¬ëŒë“¤ì´ ê°„í¸ë¡œê·¸ì¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‹¹ì—°ì‹œë˜ê³  ìˆëŠ”ë° ë‹¤ìŒì—ëŠ” ì–´ë–¤ ê¸°ëŠ¥ì´ ë˜ ë‚˜ì˜¬ ì§€ ê¶ê¸ˆí•˜ê¸°ë„ ê¸°ëŒ€ë˜ê¸°ë„ í•œë‹¤...!
