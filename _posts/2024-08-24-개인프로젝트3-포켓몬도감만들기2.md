---
title: "ê°œì¸í”„ë¡œì íŠ¸3_í¬ì¼“ëª¬ë„ê° ë§Œë“¤ê¸°2"
excerpt: "í”„ë¡œì íŠ¸ì§„í–‰"

categories:
  - Categories7

tags:
  - [tag1, tag2]

permalink: /categories7/personalproject3-2/

toc: true
toc_sticky: true

date: 2024-08-24
last_modified_at: 2024-08-24
---

# ðŸŒŸ React contextë¥¼ í™œìš©í•œ ë¦¬íŽ™í† ë§

ì§€ë‚œ ë²ˆ ë§Œë“¤ì–´ë‘” props-drillingìœ¼ë¡œ ë§Œë“¤ì–´ë‘” í”„ë¡œì íŠ¸ì— ë¶ˆíŽ¸í•¨ì„ ëŠë¼ë©´ì„œ contextë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ props-drillingì„ ì œê±°í•´ ì½”ë“œë¥¼ ë¦¬íŽ™í† ë§ í•˜ê¸°ë¡œ í–ˆë‹¤.

1. src > contextsí´ë”ë¥¼ ìƒì„±, PokemonContext.jsx íŒŒì¼ì„ ë§Œë“¬
2. PokemonContext.js íŒŒì¼ì— createContextë¥¼ í•œ í›„ Dex.jsxì— ìžˆì—ˆë˜ ìž¬ì‚¬ìš©ì´ í•„ìš”í•œ ì½”ë“œë“¤ì„ ì˜®ê²¨ì™€ ë¡œì§ë“¤ì„ ìž‘ì„±
3. PokemonProviderì„ ìµœìƒìœ„íŒŒì¼(App.jsx)ì—ì„œ ê°ì‹¸ì£¼ê³ 
4. ë¡œì§ë“¤ì´ í•„ìš”í•œ ê³³ì—ì„œ usePokemon ì„ importí•´ ì‚¬ìš©

#### PokemonContext.jsx

```jsx
import { createContext, useState, useContext } from "react";

const PokemonContext = createContext();

export const usePokemon = () => {
  return useContext(PokemonContext);
};

export const PokemonProvider = ({ children }) => {
  const [selectPokemon, setSelectPokemon] = useState([]);
  const addPokemon = (addPokemon) => {
    if (selectPokemon.length >= 6) {
      alert("í¬ì¼“ëª¬ì€ ìµœëŒ€ 6ê°œê¹Œì§€ë§Œ ì¶”ê°€ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤ ì‚­ì œ í›„ ì¶”ê°€í•´ì£¼ì„¸ìš”");
    } else if (
      selectPokemon.find((prevPokemon) => prevPokemon.id === addPokemon.id)
    ) {
      alert("ì´ë¯¸ ì¶”ê°€ë˜ì–´ìžˆëŠ” í¬ì¼“ëª¬ìž…ë‹ˆë‹¤.");
    } else {
      setSelectPokemon((prevPokemon) => [...prevPokemon, addPokemon]);
    }
  };

  const removePokemon = (removePokemon) => {
    setSelectPokemon((prevPokemon) =>
      prevPokemon.filter((prevPokemon) => prevPokemon.id !== removePokemon.id)
    );
  };

  return (
    <PokemonContext.Provider
      value={{ selectPokemon, addPokemon, removePokemon }}
    >
      {children}
    </PokemonContext.Provider>
  );
};
```

#### App.jsx

```jsx
import React from "react";
import Home from "./pages/Home";
import Dex from "./pages/Dex";
import PokemonDetail from "./pages/PokemonDetail";
import { Route, BrowserRouter, Routes } from "react-router-dom";
import GlobalStyle from "./styles/GlobalStyle";
import GlobalFont from "./styles/GlobalFont";
import { PokemonProvider } from "./contexts/PokemonContext";

const App = () => {
  return (
    <>
      <GlobalStyle />
      <GlobalFont />

      <BrowserRouter>
        <PokemonProvider>
          <Routes>
            <Route path="/" element={<Home />}></Route>
            <Route path="/Dex" element={<Dex />}></Route>
            <Route
              path="/PokemonDetail/:id"
              element={<PokemonDetail />}
            ></Route>
          </Routes>
        </PokemonProvider>
      </BrowserRouter>
    </>
  );
};

export default App;
```

#### PokemonDetail.jsx

PokemonContext.jsxíŒŒì¼ì— í•„ìš”í•œ ë¡œì§ë“¤ì„ ë¡œë“œì‹œí‚¤ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©

```jsx
const PokemonDetail = () => {
  const { addPokemon } = usePokemon();
  // parameterê°€ì ¸ì˜¤ê¸°
```

## ðŸ˜± ì–´ë ¤ì› ë˜ ì 

useRef, useContext, useEffect ë“± ì—¬ëŸ¬ê°€ì§€ í›…ë“¤ì„ í•œë²ˆì— ìµížˆë©° ì‚¬ìš©í•˜ë ¤ê³  í•˜ë‹¤ë³´ë‹ˆ ì•„ì§ ìˆ™ì§€ê°€ ìž˜ ë˜ì§€ ì•Šì•„ì„œì¸ì§€ í˜¼ë™ë“¤ì´ ìžˆì—ˆê³  providerì„ ë¡œë“œ ì‹œí‚¤ëŠ” ê±¸ ê¹Œë¨¹ëŠ”ë‹¤ëŠ”ì§€ ì´ëŸ° ì‹¤ìˆ˜ë“¤ì´ ìžˆì—ˆë‹¤.
=> ì—¬ëŸ¬ë²ˆ ë°˜ë³µí•˜ë©° ì—°ìŠµí•´ì•¼í•  ê²ƒ ê°™ë‹¤.
