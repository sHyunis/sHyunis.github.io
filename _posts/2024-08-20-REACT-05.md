---
title: "No-CRA REACT ê°œë°œ"
excerpt: "React"

categories:
  - Categories1
tags:
  - [tag1, tag2]

permalink: /categories1/react5/

toc: true
toc_sticky: true

date: 2024-08-20
last_modified_at: 2024-08-20
---

CRAë‚˜ Viteë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  React ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•´ë³´ê¸°
ì´ìœ  : CRAëŠ” ê°„í¸í•˜ê²Œ ì„¤ì •ì„ ìë™í™”í•´ ì£¼ì§€ë§Œ, ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ì œì•½ì´ ë§ì•„ ì‹¤ë¬´ì—ì„œ í•œê³„ê°€ ìˆì„ ìˆ˜ ìˆìŒ

### ëª©í‘œ

- CRAëŒ€ì‹  Webpackê³¼ Babelì„ ì´ìš©í•´ React í”„ë¡œì íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ìµíŒë‹¤.
- ë²ˆë“¤ëŸ¬ì™€ íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ì˜ ê°œë…ì„ ì´í•´í•˜ê³ , React ì• í”Œë¦¬ì¼€ì´ì…˜ì„ íš¨ìœ¨ì ìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” ì—­ëŸ‰ì„ ê¸°ë¥¸ë‹¤.

# ğŸŒ¼ NO-CRA REACT ê°œë°œ ì‹œì‘

1. í”„ë¡œì íŠ¸ í´ë”ìƒì„±
2. HTML íŒŒì¼ìƒì„± (index.html)
   React ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë  ê¸°ë³¸ htmlêµ¬ì¡° ì„¤ê³„

```js
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>No CRA</title>
    </head>
  <body>
    <div id="root"></div>
    <script>
      const App = () => {
        return (
          <>
            <h1>Hello World</h1>
          </>
        );

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
      };
    </script>
  </body>
</html>

```

3. Reactì™€ ReactDOM CDN ì¶”ê°€

```js
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
```

4. script Tagì‘ì„±
5. Babelì ìš©í•˜ì—¬ JSXì‚¬ìš©í•˜ê¸°

- íŠ¸ëœìŠ¤íŒŒì¼
  : í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ ì½”ë“œë¥¼ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ë˜ëŠ” ë™ì¼í•œ ì–¸ì–´ ë‚´ì—ì„œ ë‹¤ë¥¸ ë²„ì „ì´ë‚˜ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë„êµ¬ - Babelì„¤ì¹˜

```js
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
```

6. Script Tag ìˆ˜ì •
   script Tag ì•ˆì— type = "text/babel"ì„¤ì •ì„ ë„£ì–´ babelì´ ì–´ë–¤ ìŠ¤í¬ë¦½íŠ¸ë¥¼ íŠ¸ëœìŠ¤íŒŒì¼í• ì§€ ê²°ì •í•´ì¤Œ

```js
 <div id="root"></div>
    <script type="text/babel">
        const App = () => {
            return (
                <>
                    <h1>Hello World</h1>
                </>
            );

            const root = ReactDOM.createRoot(document.getElementById("root"));
            root.render(<App />);
        };
```

7. íŒ¨í‚¤ì§€ ì´ˆê¸°í™”

```js
npm init -y
npm install --save-dev @babel/core @babel/cli @babel/preset-react

or

yarn init -y
yarn add @babel/core @babel/cli @babel/preset-react --dev
```

- `babel-cli` `@babel/core`: ë¹Œë“œíƒ€ì„ì— ë°”ë²¨ì„ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•œ CLI ëª…ë ¹ì–´ ë„êµ¬.
- `@babel/preset-react`: React ìš© ë°”ë²¨ ë¬¸ë²• ë³€í™˜ íŒ¨í‚¤
  .babelrc íŒŒì¼ì„ ë§Œë“¤ì–´ì¤Œ
  {
  "presets": ["@babel/preset-react"]
  }

8. 5. build ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± package.json ì— í•´ë‹¹ build ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì…ë ¥í•´ì¤Œ

```js
"scripts": {
    "build": "babel src -d dist"
 },
```

npm run build or yarn run buildë¥¼ í†µí•´ ì‹¤í–‰ì‹œì¼œì£¼ë©´, dist í´ë”ì— app.js ê°€ ìƒê¹€

```jsx
const App = () => {
  return /*#__PURE__*/ React.createElement("h1", null, "Hello, World!");
};
const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(/*#__PURE__*/ React.createElement(App, null));
```

index.html ìˆ˜ì •

```jsx
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>No CRA</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script src="./dist/app.js" type="module"></script>
  </body>
</html>
```

## Webpackë„ì… ë° ì„¤ì •

> ## ë²ˆë“¤ëŸ¬ë€?
>
> ë²ˆë“¤ëŸ¬ë€ ì—¬ëŸ¬ê°œì˜ íŒŒì¼ë¡œ êµ¬ì„±ëœ ì½”ë“œë‚˜ ë¦¬ì†ŒìŠ¤ë¥¼ í•˜ë‚˜ì˜ íŒŒì¼(ë˜ëŠ” ëª‡ ê°œì˜ íŒŒì¼)ë¡œ ë¬¶ì–´ì£¼ëŠ” ë„êµ¬. ì—¬ëŸ¬ JavaScript, CSS, ì´ë¯¸ì§€íŒŒì¼ë“±ì„ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ê²°í•©í•˜ì—¬ ë°°í¬ ë° ë¡œë“œ ì„±ëŠ¥ì„ ê°œì„ í•˜ëŠ”ë° ì‚¬ìš©ë¨
> ì°¸ê³ ) ë¸Œë¼ìš°ì €ëŠ” í•œë²ˆì— 6ê°œì”© ë‚˜ëˆ„ì–´ì„œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ê°€ì ¸ì˜´. ì—¬ëŸ¬ê°œì˜ íŒŒì¼ì´ ìˆë‹¤ë©´ ê·¸ë§Œí¼ ë¡œë“œê°€ ì§€ì—°ë¨.

#### í”„ë¡œì íŠ¸ ì¤€ë¹„

1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```js
npm install --save-dev webpack webpack-cli babel-loader
or
yarn add --dev webpack webpack-cli babel-loader
```

- `webpack` `webpack-cli`: ë¹Œë“œíƒ€ì„ì— ì›¹íŒ©ì„ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•œ CLI ëª…ë ¹ì–´ ë„êµ¬.
- `babel-loader`: ë°”ë²¨ê³¼ í†µí•©í•˜ê¸° ìœ„í•œ ë°”ë²¨ ë¡œë”

2. Webpackì„¤ì •íŒŒì¼ìƒì„±
   í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— webpack.config.js íŒŒì¼ì„ ìƒì„± í›„ ì„¤ì •

```js
const path = require("path");

module.exports = {
  entry: "./src/app.js",
  output: {
    path: path.resolve(__dirname, "dist"),
    filename: "bundle.js",
  },
  module: {
    rules: [
      //.css .js ë“± ì„œë¡œ ë‹¤ë¥¸ í™•ì¥ìë¥¼ ê°€ì§„ íŒŒì¼ì„ ì²˜ë¦¬í•  ë•Œ ì–´ë–¤ ê·œì¹™ì„ ì ìš©í• ì§€ ì •ì˜
      {
        test: /\.js$/, // ì–´ë–¤ íŒŒì¼ì„ ëŒ€ìƒìœ¼ë¡œ í• ì§€ ì •ê·œí‘œí˜„ì‹ìœ¼ë¡œ ì‘ì„±
        exclude: /node_modules/, // node_modules í´ë”ëŠ” ì œì™¸
        use: {
          loader: "babel-loader", // babel-loaderë¥¼ ì‚¬ìš©
        },
      },
    ],
  },
  mode: "development", // ì—†ìœ¼ë©´ warning ì´ ë‚¨
};
```

- `entry`: ë²ˆë“¤ë§ì˜ ì‹œì‘ì (ì—”íŠ¸ë¦¬)ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” `src/index.js`ë¥¼ ì—”íŠ¸ë¦¬ë¡œ ì§€ì •
- `output`: ë²ˆë“¤ë§ ê²°ê³¼ë¬¼ì˜ ì¶œë ¥ ìœ„ì¹˜ì™€ íŒŒì¼ëª…ì„ ì§€ì •`dist/bundle.js`ë¡œ ì„¤ì •
- `module.rules`: Babelì„ ì‚¬ìš©í•´ JavaScript íŒŒì¼ì„ íŠ¸ëœìŠ¤íŒŒì¼ë§í•˜ê¸° ìœ„í•´ `babel-loader`ë¥¼ ì„¤ì •
- `mode` : ê°œë°œëª¨ë“œë¥¼ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆìŒ.

3. ë¡œë”ì„¤ì •
   ì—¬ëŸ¬ ë¡œë”ë“¤ì„ ì‚¬ìš©í•´ ì´ë¯¸ì§€, css ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹ì„ ì„¤ì •
4. í”„ë¡œì íŠ¸ ë¹Œë“œ ë° ì‹¤í–‰
   `package.json`ì˜ `scripts` í•­ëª©ì— ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì¶”ê°€

```js
"scripts": {
    "build": "webpack"
},
```

ë¹Œë“œëª…ë ¹ì–´ë¥¼ ì‹œì‘í•˜ë©´ distí´ë”ì— íŒŒì¼ì´ ìƒê¹€

#### development vs production

: ì½”ë“œìµœì í™”ê°€ ìˆëŠ”ì§€ì— ë”°ë¥¸ ë¹Œë“œì†ë„ê°€ ì°¨ì´ê°€ë‚œë‹¤.

- production : íŠ¸ë¦¬ì…°ì´í‚¹, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…, ìƒìˆ˜ í´ë”©, ì½”ë“œ ë‚œë…í™” ë“±ì˜ ìµœì í™” ê³¼ì •ì´ í¬í•¨ë˜ì–´ ë” ì˜¤ë˜ê±¸ë¦¼

### Plugin

> Webpackí”ŒëŸ¬ê·¸ì¸ì€ ë¹Œë“œê³¼ì •ì¤‘ íŠ¹ì • ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê°œì„ í•˜ëŠ” ì—­í• ì„ í•œë‹¤.

1. íŒŒì¼ ì´ë¦„ì— í•´ì‹œê°’ ì¶”ê°€
   ìºì‹œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë¹Œë“œëœ íŒŒì¼ ì´ë¦„ì— í•´ì‹œê°’ì„ ì¶”ê°€
   ì½”ë“œê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ íŒŒì¼ ì´ë¦„ì´ ìƒì„±, ë¸Œë¼ìš°ì €ì—ì„œ ì—…ë°ì´íŠ¸ ëœ jsíŒŒì¼ì„ ìºì‹œí•˜ì§€ ì•Šë„ë¡ ì„¤ì • ê°€ëŠ¥
2. HTML Webpack plugin ì„¤ì •

```js
yarn add --dev html-webpack-plugin
or
npm install --save-dev html-webpack-plugin
```

3. distí”Œë” í™•ì¸

### ê°œë°œ í™˜ê²½ì— ë”í•˜ê¸°

#### 1. clean Webpack Plugin

: clean Webpack Plugin ì„¤ì • ì‹œ ë¹Œë“œ ì‹œë§ˆë‹¤ HTMLíŒŒì¼ì´ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸, íŒŒì¼ì„ ì‚­ì œí•´ì¤„ í•„ìš”ê°€ ì—†ë‹¤.

```js
npm install --save-dev clean-webpack-plugin
or
yarn add --dev clean-webpack-plugin

```

```js
const { CleanWebpackPlugin } = require("clean-webpack-plugin");

 plugins: [
    new CleanWebpackPlugin(),
    new HtmlWebpackPlugin({
      template: "index.html",
      filename: "index.html",
    }),
  ],
```

#### 2. ê°œë°œ ì„œë²„ ì„¤ì •

: Webpack ê°œë°œ ì„œë²„ë¥¼ ì„¤ì •í•´ ì½”ë“œ ë³€ê²½ ì‚¬í•­ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë˜ë„ë¡ ì„¤ì •

1. ê°œë°œ ì„œë²„ ì„¤ì¹˜ ë° ì„¤ì •

```js
npm install --save-dev webpack-dev-server
or
yarn add --dev webpack-dev-server
```

```js
devServer: {
    static: {
      directory: path.join(__dirname, "dist"),
    },
    port: 9000, // ê°œë°œ ì„œë²„ê°€ ì‹¤í–‰ë  í¬íŠ¸ë²ˆí˜¸
    open: true, // ì„œë²„ê°€ ì‹¤í–‰ë˜ë©´ ìë™ìœ¼ë¡œ ë¸Œë¼ìš°ì €ë¥¼ ì—¼
    hot: true, // ì½”ë“œ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜
  },
```

2. ëª…ë ¹ì–´ ì„¤ì •
   package.jsonì˜ scripts í•­ëª©ì— ê°œë°œ ì„œë²„ ëª…ë ¹ì–´ë¥¼ ì¶”ê°€

```js
 "scripts": {
    "build": "webpack",
    "start": "webpack serve"
 },
```

ì„¤ì¹˜ê°€ ëë‚œ í›„ yarn start or npm start ëª…ë ¹ì–´ë¡œ ê°œë°œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³ , ì½”ë“œê°€ ìˆ˜ì •ë  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ë³€ê²½ ì‚¬í•­ì´ ë¸Œë¼ìš°ì € ë°˜ì˜

### í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

: ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê°œë°œ, ìŠ¤í…Œì´ì§•, í”„ë¡œë•ì…˜ í™˜ê²½ì— ë§ê²Œ ë‹¤ë¥¸ ì„¤ì •ì„ ì ìš©í•´ì•¼í•¨. Webpack ê³¼ í•¨ê»˜ dotenv-webpackì„ ì‚¬ìš©í•´ í™˜ê²½ë³€ìˆ˜ë¥¼ ê´€ë¦¬

1. í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ìƒì„±
   : í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— .env.development, .env.production íŒŒì¼ì„ ìƒì„±í•´ ê° í™˜ê²½ì— ë§ëŠ” ë³€ìˆ˜ ì„¤ì •

```js
# .env.development
APP_API_URL=https://dev-api.example.com
```

```js
# .env.production
APP_API_URL=https://api.example.com
```

2. dotenv-webpackí”ŒëŸ¬ê·¸ì¸ ì„¤ì •

```
npm install --save-dev dotenv-webpack
or
yarn add --dev dotenv-webpack

```

webpackì„¤ì • íŒŒì¼ì— í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€

```js
const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");
const { CleanWebpackPlugin } = require("clean-webpack-plugin");
const DotenvWebpack = require("dotenv-webpack");

const mode = process.env.NODE_ENV || "development";

module.exports = {
  mode,
  plugins: [
    new CleanWebpackPlugin(),
    new HtmlWebpackPlugin({
      template: "index.html",
      filename: "index.html",
    }),
    new DotenvWebpack({
      path: `./.env.${process.env.NODE_ENV || "development"}`,
    }),
  ],
};
```

scriptë³€ê²½

```js
  "scripts": {
    "build": "webpack",
    "start": "NODE_ENV=production webpack serve"
  },
```

í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©

```js
const apiUrl = process.env.APP_API_URL;
```

í¬ë¡œìŠ¤ ê°œë°œí™˜ê²½ ì¶”ê°€
ìœˆë„ìš° í™˜ê²½ì—ì„œëŠ” `set NODE_ENV=~ &&` ì´ëŸ°ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•¨

ê°ê° í™˜ê²½ì—ì„œ ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•Šë„ë¡ ë³€ê²½í•´ì£¼ê¸° ìœ„í•´ì„œ cross-env íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜

```js
npm install --save-dev cross-env
```

```
    "start": "cross-env NODE_ENV=development webpack serve"
```
