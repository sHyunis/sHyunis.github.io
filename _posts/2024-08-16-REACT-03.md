---
title: "React styled-components, context"
excerpt: "React"

categories:
  - Categories1
tags:
  - [tag1, tag2]

permalink: /categories1/react3/

toc: true
toc_sticky: true

date: 2024-08-16
last_modified_at: 2024-08-16
---

# React

# ğŸŒŸ React_styled-components

> ## css-in-js
>
> css in js ìŠ¤íƒ€ì¼ë¡œ ì›í•˜ëŠ” ì˜ì—­ì—ë§Œ ìŠ¤íƒ€ì¼ì„ ì ìš©ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

### â˜˜ï¸ ì‚¬ìš©ë°©ë²•

1. Yarn add styled components
2. GlobalStyle or styled from styled-components

### â˜˜ï¸ ì¥ì 

css-in-jsë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ styleì„ ì ìš©í•  ë•Œ ì¡°ê±´ë¬¸, ë³€ìˆ˜ ë“± ë‹¤ì–‘í•œ ë¡œì§ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤.

---

## ğŸŒ¼ GlobalStyle (ì „ì—­ìŠ¤íƒ€ì¼ ì ìš©ë²•)

### â˜˜ï¸ ì „ì—­ ìŠ¤íƒ€ì¼ë§ì´ë€?

í”„ë¡œì íŠ¸ë¥¼ ì•„ìš°ë¥´ë©° ê³µí†µì ìœ¼ë¡œ ë“¤ì–´ê°€ì•¼ í•  ìŠ¤íƒ€ì¼, ì „ì—­ì ìœ¼ë¡œ ìŠ¤íƒ€ì¼ì„ ì§€ì •í•œë‹¤.

### â˜˜ï¸ ì‚¬ìš©ë²•

1. import {createGlobalStyle} from "styled-components";

```js
import { createGlobalStyle } from "styled-components";
const GlobalStyle = createGlobalStyle`
    body{
        font-family: "Helvetica";
        line-height: 1.5;
    }
`;

export default GlobalStyle;
```

---

## ğŸŒ¼ Styled components(ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§)

### â˜˜ï¸ ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§ì´ë€?

### â˜˜ï¸ ì‚¬ìš©ë°©ë²•

1. yarn add styled componentsë¡œ ì„¤ì¹˜
2. ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ê³³ì—ì„œ import styled from "styled-components";
3. ì•„ë˜ ìƒìˆ˜ë¡œ ìŠ¤íƒ€ì¼ì„ ì ì–´ì¤Œ ë² í‹±ìœ¼ë¡œ

```js
import React from "react";
import styled from "styled-components";

const Box = styled.div`
  width: 200px;
  height: 200px;
  margin: 0 auto;
  border: 1px solid ${(props) => props.borderColor}}
`;

const BoxColorList = ["red", "green", "blue"];

const handleColor = () => {
  switch (color) {
    case "red":
      return "red Box";
    case "green":
      return "green Box";
    case "blue":
      return "blue Box";
    default:
      return "black Box";
  }
};

const BoxColor = () => {
  return (
    <div>
      {BoxColorList.map((color) => {
        <Box key={color} border={borderColor}>
          handleColor{color}
        </Box>;
      })}
    </div>
  );
};

export default BoxColor;
```

- map()ì€ keyê°’ì„ ì ì–´ì£¼ì–´ì•¼ í•¨

---

## ğŸŒŸ CSS reset

> ë¸Œë¼ìš°ì €ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” default styleì„ ì´ˆê¸°í™” ì‹œí‚¤ëŠ” ê²ƒ
> ë‹¤ì–‘í•œ ì›¹ ë¸Œë¼ìš°ì €ë§ˆë‹¤ ê°ê°ì˜ ë‹¤ë¥¸ default styleì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì´ˆê¸°í™”í•˜ê³  ì •í•œëŒ€ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

### â˜˜ï¸ cssì´ˆê¸°í™” ë°©ë²•

```css
html,
body,
div,
span,
applet,
object,
iframe,
h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote,
pre,
a,
abbr,
acronym,
address,
big,
cite,
code,
del,
dfn,
em,
img,
ins,
kbd,
q,
s,
samp,
small,
strike,
strong,
sub,
sup,
tt,
var,
b,
u,
i,
center,
dl,
dt,
dd,
ol,
ul,
li,
fieldset,
form,
label,
legend,
table,
caption,
tbody,
tfoot,
thead,
tr,
th,
td,
article,
aside,
canvas,
details,
embed,
figure,
figcaption,
footer,
header,
hgroup,
menu,
nav,
output,
ruby,
section,
summary,
time,
mark,
audio,
video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
menu,
nav,
section {
  display: block;
}
body {
  line-height: 1;
}
ol,
ul {
  list-style: none;
}
blockquote,
q {
  quotes: none;
}
blockquote:before,
blockquote:after,
q:before,
q:after {
  content: "";
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
```

---

## ğŸŒŸ useState ì‚¬ìš©ë°©ë²•ì˜ ì°¨ì´ì (ë°°ì¹˜ì—…ë°ì´íŠ¸)

1. ì§ì ‘ì ìœ¼ë¡œ ë„£ëŠ” ê²ƒ
   setCount(count + 1)
   setCountë¥¼ í•œë²ˆì— ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ ì‹¤í–‰ìœ¼ë¡œ ì¸ì‹í•˜ê³  1ë²ˆë§Œ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.
2. í•¨ìˆ˜í˜•ìœ¼ë¡œ ë„£ëŠ” ê²ƒ
   ë‹¤ìŒ setCountì—ì„œ ì¸ìë¡œ ê°€ì§€ê³  ì™€ì„œ ì—°ì†í•´ì„œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.

---

## ğŸŒŸ useEffect

- ì˜ì¡´ì„± ë°°ì—´ : ë°°ì—´ì— ê°’ì„ ë„£ìœ¼ë©´ ê·¸ ê°’ì´ ë°”ë€” ë•Œë§Œ useEffectë¥¼ ì‹¤í–‰
- ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ëœ ì´í›„ë§ˆë‹¤ íŠ¹ì •ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ í•˜ëŠ” Hook
- useEffect(()=>{ìˆ˜í–‰í•  ì‘ì—…}, [ì˜ì¡´ì„±ë°°ì—´])

stateê°€ ë³€ê²½ë˜ë©´ ë¦¬ë Œë”ë§ì´ ë˜ëŠ”ë° ë Œë”ë§ì´ ë  ë•Œë§ˆë‹¤ useEffectê°€ í™œì„±í™”ëœë‹¤.

---

## ğŸŒŸ clean upí•¨ìˆ˜

- ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ê±°ë‚˜ ë¶ˆí•„ìš”í•œ ëˆ„ìˆ˜ë¥¼ ì •ë¦¬í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©

```js
useEffect(() => {
  // clean up í•¨ìˆ˜
  return () => {
    console.log("cleanUp");
  };
}, []);
```

---

## ğŸŒŸ ì»´í¬ë„ŒíŠ¸ ë¼ì´í”„ì‚¬ì´í´

> ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë„ íƒœì–´ë‚˜ê³ , ì‚´ì•„ê°€ê³  ì£½ëŠ” ìƒì• ì£¼ê¸°ê°€ ì¡´ì¬í–ˆë‹¤. í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ì£¼ë¡œ ì‚¬ìš©í–ˆë˜ ì´ì „ ë²„ì „ì—ì„œëŠ” ìƒì•  ì£¼ê¸°ì™€ ê´€ë ¨ëœ ì—¬ëŸ¬ ë©”ì„œë“œê°€ ì¡´ì¬í–ˆì§€ë§Œ í˜„ì¬ì²˜ëŸ¼ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” useEffectë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.
>
> > componentDidMount -> useEffect(()=>{},[])
> > componentDidUpdate -> useEffect(()=>{},[value])
> > componentWillUnmount -> useEffect(()=>{return()=>{}} (cleanUpí•¨ìˆ˜)

---

## ğŸŒŸuseRef

> - íŠ¹ì • ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•´ ì“°ëŠ” í›…

- ğŸ’¥ ë Œë”ë§ê³¼ ìƒê´€ì—†ë‹¤ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”! (useStateì™€ì˜ ì°¨ì´ì )
  ê°ì²´ë¥¼ ë°˜í™˜
- ì»´í¬ë„ŒíŠ¸ê°€ ê³„ì†í•´ì„œ ë³€ê²½ë¼ë„ ê°’ì„ ìœ ì§€í•œë‹¤.
- ê°’ ì•ˆì— currentê°€ í•­ìƒ ì¡´ì¬í•œë‹¤.
  > ex)ì˜ˆì œ (refì˜ì—­ì˜ buttonì„ ëˆ„ë¥´ë”ë¼ë„ ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šì§€ë§Œ stateì˜ì—­ì˜ buttonì„ ëˆ„ë¥´ëŠ” ìˆœê°„ ëˆ„ì ë˜ì—ˆë˜ ê°’ì´ í•œë²ˆì— ë‚˜íƒ€ë‚œë‹¤.

```jsx
import React from "react";
import { useRef } from "react";
const App = () => {
  const [count, setCount] = useState(0);
  const countRef = useRef(0);
  const plusStateCountButtonHandler = () => {
    setCount(count + 1);
  };
  const plusRefCountButtonHandler = () => {
    countRef.current++;
  };
  return (
    <div>
      <h1>useRef</h1>
      <div>
        stateì˜ì—­ì…ë‹ˆë‹¤. {count}
        <br />
        <button onClick={plusStateCountButtonHandler}>stateì¦ê°€</button>
      </div>
      <div>
        refì˜ì—­ì…ë‹ˆë‹¤.{countRef.current}
        <br />
        <button onClick={plusRefCountButtonHandler}>refì¦ê°€</button>
      </div>
    </div>
  );
};
export default App;
```

ì˜ˆì œ2

```js
import React from "react";
import { useEffect } from "react";
import { useRef } from "react";

const App = () => {
  const idRef = useRef("");
  //ìµœì´ˆ ë Œë”ë§ ì‹œì—ë§Œ idë¶€ë¶„ì´ í¬ì»¤ì‹± ë˜ë„ë¡
  useEffect(() => {
    idRef.current.focus();
  }, []);
  return (
    <div>
      <div>
        ì•„ì´ë””:
        <input type="text" ref={idRef} />
      </div>
      <div>
        ë¹„ë²ˆ : <input type="text" />
      </div>
    </div>
  );
};

export default App;
```

---

## ğŸŒŸ useContext

> useContextëŠ” ë‹¨ë°©í–¥ì´ ì•„ë‹Œ ê°’ì˜ ì „ë‹¬, ì „ì—­ìƒíƒœë¥¼ ë‹¤ë£¨ê²Œ ëœë‹¤.
> ì•„ë˜ì˜ ë¬¸ì œì ë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë‚˜íƒ€ë‚œ react context APIê°€ useContextì´ë‹¤.

### context APIí•„ìˆ˜ê°œë…

1. createContext : contextë¥¼ ìƒì„±í•œë‹¤.
2. usecontext : contextë¥¼ êµ¬ë…í•˜ê³  í•´ë‹¹ contextì˜ í˜„ì¬ ê°’ì„ ì½ëŠ”ë‹¤.
3. Provider : contextë¥¼ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì „ë‹¬í•œë‹¤.

> > ### react contextì˜ í•„ìš”ì„±
> >
> > : propsë¥¼ ë„ˆë¬´ ê¹Šê²Œ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ prop drillingí˜„ìƒì´ ì¼ì–´ë‚œë‹¤.

### prop drillingì˜ ë¬¸ì œì 

1. ê¹Šì´ê°€ ë„ˆë¬´ ê¹Šì–´ì§€ë©´ propì´ ì–´ë–¤ componenentì—ì„œ ì™”ëŠ”ì§€ íŒŒì•…ì´ ì–´ë ¤ì›Œì§„ë‹¤.
2. ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²½ìš° ì¶”ì ì´ í˜ë“¤ì–´ì ¸ ëŒ€ì²˜ê°€ ëŠ¦ì–´ì§„ë‹¤.![](https://velog.velcdn.com/images/alice0751/post/1b08311d-de19-4d90-9523-c0d3a4ff24d1/image.png)

### context API

: íŠ¹ì • ë§¥ë½ ì•ˆì—ì„œ stateë¥¼ ê³µìœ í•œë‹¤.
ì–´ë””ì„œë“ ì§€ ê°’ì„ ì ‘ê·¼í•  ìˆ˜ ìˆê³  ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë‹¤.

### ë‚˜ì˜ ì´í•´ë²•

: Grandfather.jsx, Father.jsx, Child.jsxê°€ ìˆë‹¤.
Grandfatherì€ Fatherì—ê²Œ houseNameê³¼ moneyë¥¼ FatherëŠ” Childì—ê²Œ ë‹¤ì‹œ houseNameê³¼ moneyë¥¼ props drillingì„ í†µí•´ ì£¼ê²Œ ëœë‹¤. Grandfatherê°€ Childì—ê²Œ í•œë²ˆì— houseNameê³¼ moneyë¥¼ ì¤˜ë„ ë˜ëŠ”ë° Fatherì—ê²Œ ë¶ˆí•„ìš”í•˜ê²Œ props drillingì„ ì´ìš©í•´ ìƒì†í•´ì¤˜ì•¼í•˜ëŠ” ê²ƒì´ë‹¤. ì´ê²ƒì„ ë¦¬íŒ©í† ë§ í•˜ê¸°ìœ„í•´ useContextë¥¼ ì“°ëŠ” ê²ƒì´ë‹¤.

## âœ¨ useContextì˜ ì‚¬ìš©ë²•

1. srcí´ë”ì—ì„œ contextí´ë”ë¥¼ ë§Œë“ ë‹¤.
2. jsíŒŒì¼ì„ ë§Œë“ ë‹¤.
3. jsíŒŒì¼ì— createContextë¥¼ í•´ì¤€ë‹¤. & ìµœìƒìœ„ì— ê°ì‹¸ì¤€ë‹¤.(.Provider

```js
import { createContext } from "react";

export const FamilyContext = createContext(null); // ì´ˆê¸°ê°’
```

4. ìµœìƒìœ„ í´ë”ë‚˜ ìƒì†ì„ ì£¼ê³ ì í•˜ëŠ” ë¶€ëª¨íŒŒì¼ì—ì„œ

```jsx
import React from "react";
import Father from "./Father";
import { FamilyContext } from "./context/FamilyContext";

const Grandfather = () => {
  const houseName = "ìŠ¤íŒŒë¥´íƒ€";
  const pocketMoney = 10000;
  return (
    <div>
      <FamilyContext.Provider value={{ houseName, pocketMoney }}>
        <Father houseName={houseName} pocketMoney={pocketMoney} />
      </FamilyContext.Provider>
    </div>
  );
};

export default Grandfather;
```

4. Child ì»´í¬ë„ŒíŠ¸ì—ì„œ useContext()ë¡œ ê°’ì„ êº¼ë‚´ì™€ì„œ ì‚¬ìš©í•´ì¤€ë‹¤.

```js
import React from "react";
import { FamilyContext } from "./context/FamilyContext";

const Child = () => {
  const stressWord = {
    color: "red",
    fontWeight: "600",
  };

  const { houseName, pocketMoney } = useContext(FamilyContext);
  return (
    <div>
      ë‚˜ëŠ” ì´ ì§‘ì•ˆì˜ ë§‰ë‚´ <br />
      í• ì•„ë²„ì§€ê°€ ìš°ë¦¬ ì§‘ ì´ë¦„ì€ <span style={stressWord}>{houseName}</span>ë¼ê³  í•˜ì…¨ìŠµë‹ˆë‹¤.
      ìš©ëˆë„ <span style={stressWord}>{pocketMoney}</span>ë§Œí¼ ì£¼ì…¨ì–´ìš”
    </div>
  );
};

export default Child;
```

### ğŸ’¥ context APIë¥¼ ì‚¬ìš©í•  ë•Œ ë¬¸ì œì (ì£¼ì˜í•  ì !)

> Providerì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” valueê°€ ë‹¬ë¼ì§€ê²Œ ëœë‹¤ë©´ useContextë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ” ëª¨ë“  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚˜ê²Œ ëœë‹¤
